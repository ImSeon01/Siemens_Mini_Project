<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날짜 구하기</title>
</head>
<body>
    <h1 id="d_day"></h1>

    <script>
        // 디데이 구하는 함수
        function calc_dDay(){
            // 1. 현재 날짜 구하기
            const now = new Date();
            // 2. 계산을 원하는 날짜
            const target = new Date("2023-05-23T17:50:00");
            // 3. 디데이 계산
            const diff = target - now;
            // console.log(dDay); 밀리세컨드 단위로 출력
            // 4. 날짜, 시간, 분, 초 가져오기
            let diffDay = Math.floor(diff / (1000*60*60*24));
            let diffHour = Math.floor((diff / (1000*60*60)) % 24);
            let diffMin = Math.floor((diff / (1000*60)) % 60);
            let diffSec = Math.floor(diff / 1000 % 60);
            // 5. 시간, 분, 초 형식 정리
            diffDay = diffDay < 10 ? '0' + diffDay : diffDay ;
            diffHour = diffHour < 10 ? '0' + diffHour : diffHour; 
            diffMin = diffMin < 10 ? '0' + diffMin : diffMin; 
            diffSec = diffSec < 10 ? '0' + diffSec : diffSec;
            return diffDay + '일 ' + diffHour + ':' + diffMin + ':' + diffSec; 
        }
        // 디데이 출력하는 함수
        function show_dDay(){
            document.getElementById('result').innerHTML = calc_dDay();
        }
        // 1초 단위로 디데이 출력하는 함수 호출
        setInterval(()=>show_dDay(), 1000);
    </script>
</body>
</html>