<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
    
    <button>&lt;</button>
    <button>영화순위 보기</button>
    <button>&gt;</button>
    <p></p>
    <script>
        var k;
        // 1. 버튼 클릭 
        // 2. ajax 통신
        // 3. 데이터를 받아옴
        // 4. 데이터를 화면에 출력
        // 5. 데이터 로딩이 완료 알러창
        // $("#b1").click(function(){ //callback 사용
        //     $("#p1").hide("slow", function(){
        //         alert("The paragraph is now hidden");
        //     });
        // }); //end click
        // 1. 버튼 클릭
        $('button').click(function(){
            console.log('1. 버튼 클릭');
            // 2. ajax 통신
            console.log('2. ajax 통신');
            ajax(function(){
                alert('3. ajax 통신 완료');
            });
        })
        function ajax(callback){
             $.ajax({
                 url :"http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",
                 data : {
                     key : "f5eef3421c602c6cb7ea224104795888",
                     targetDt : "20230301"
                 },
                 success : function(e){
                     callback();
                     $('p').html('4.데이터를 화면에 출력', function(){
                         alert('5.데이터 로딩 완료');
                    });
                 },
                 complete : function(){
                 }
             })
        }
    </script>
    
</body>
</html>